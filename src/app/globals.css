@tailwind base;
@tailwind components;
@tailwind utilities;

@custom-variant dark (&:where(.dark, .dark *));

main {
  /* padding-top: var(--header-h); */
}

:root {
  /* Light mode defaults */
  --bg: #ffffff;
  --fg: #111111;
  --muted: #333;
  --accent: #0077ff;
  --accent-2: #ffb400;
  --accent-3: #00c896;
  --link-bg-hover: #ecfdf5; /* subtle mint tone for links */

  color-scheme: light;
  background-color: var(--bg);
  color: var(--fg);

  /* defaults so SSR render is correct before JS runs */
  --header-h: 88px;
}

/* Dark theme overrides */
.dark {
  --bg: #0d0d0d;
  --fg: #f5f5f5;
  --muted: #a0a0a0;
  --accent: #5caeff;
  --accent-2: #ffd464;
  --accent-3: #2fd6a5;
  --link-bg-hover: #002a1f;

  color-scheme: dark;
  background-color: var(--bg);
  color: var(--fg);
}

.dark svg,
.dark img[src$=".svg"] {
  filter: invert(1);
}

html {
  transition: none; /* prevent double paint */
}
img,
svg {
  transition: filter 0.3s ease;
}

/* Base Styles */
body {
  @apply font-serif text-base p-8 md:p-12 flex flex-col gap-24 transition-colors duration-[1000ms];
  background-color: var(--bg);
  color: var(--fg);
}

h1 {
  @apply text-5xl md:text-8xl font-headline font-normal leading-tight mb-12;
  color: var(--fg);
}

h2 {
  @apply font-headline font-normal leading-tight mb-4 text-4xl md:text-5xl;
  color: var(--fg);
}

h3 {
  @apply font-sans font-bold leading-tight mb-8;
  color: var(--fg);
}

p,
ul,
dl {
  @apply text-xl;
}

p {
  @apply mb-8 leading-relaxed md:leading-relaxed;
  color: var(--fg);
}

p a {
  @apply underline decoration-wavy decoration-2 underline-offset-8 transition-all duration-200 ease-in-out;
  color: var(--accent);
  background-color: transparent;
}

p a:hover {
  background-color: var(--link-bg-hover);
  text-underline-offset: 10px;
}

dl dt {
  @apply font-semibold text-lg mb-2;
  color: var(--fg);
}

figcaption {
  @apply text-sm mt-2 mb-6 text-center;
}

.nav-links {
  @apply flex gap-8 md:gap-16 font-sans font-bold text-base sm:text-lg leading-none text-[var(--fg,inherit)];
}

.nav-links li {
  @apply underline decoration-transparent underline-offset-4 hover:underline decoration-wavy hover:underline-offset-8 hover:decoration-[var(--accent)] transition-all;
}
